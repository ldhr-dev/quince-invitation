---
import eventConfig from '@data/event-config.json';

const { ceremony, reception, parents, godparents } = eventConfig;

const formatTime = (time: string) => {
  const [hours, minutes] = time.split(':');
  const hour = parseInt(hours);
  const ampm = hour >= 12 ? 'PM' : 'AM';
  const hour12 = hour % 12 || 12;
  return `${hour12}:${minutes} ${ampm}`;
};
---

<section class="event-details section" id="detalles">
  <div class="container">
    <h2 class="text-center text-primary">Detalles del Evento</h2>

    <div class="details-intro">
      <p>Porque son parte de mi vida es mi deseo que compartan conmigo en este día tan especial.
    </div>

    <div class="events-grid">
      <article class="event-card fade-in">
        <div class="event-image">
          <img src={ceremony.image} alt={ceremony.venue} loading="lazy" />
        </div>
        <div class="event-info">
          <h3 class="event-title">Ceremonia Religiosa</h3>
          <div class="event-detail">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
            </svg>
            <span>{ceremony.venue}</span>
          </div>
          <div class="event-detail">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
              <line x1="16" y1="2" x2="16" y2="6"></line>
              <line x1="8" y1="2" x2="8" y2="6"></line>
              <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
            <span>{new Date(ceremony.date).toLocaleDateString('es-MX', { weekday: 'long', day: 'numeric', month: 'long' })}</span>
          </div>
          <div class="event-detail">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"></circle>
              <polyline points="12 6 12 12 16 14"></polyline>
            </svg>
            <span>{formatTime(ceremony.time)}</span>
          </div>
          <div class="event-detail">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
              <circle cx="12" cy="10" r="3"></circle>
            </svg>
            <span>{ceremony.address}</span>
          </div>
        </div>
      </article>

      <article class="event-card fade-in">
        <div class="event-image">
          <img src={reception.image} alt={reception.venue} loading="lazy" />
        </div>
        <div class="event-info">
          <h3 class="event-title">Recepción</h3>
          <div class="event-detail">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
            </svg>
            <span>{reception.venue}</span>
          </div>
          <div class="event-detail">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
              <line x1="16" y1="2" x2="16" y2="6"></line>
              <line x1="8" y1="2" x2="8" y2="6"></line>
              <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
            <span>{new Date(reception.date).toLocaleDateString('es-MX', { weekday: 'long', day: 'numeric', month: 'long' })}</span>
          </div>
          <div class="event-detail">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"></circle>
              <polyline points="12 6 12 12 16 14"></polyline>
            </svg>
            <span>{formatTime(reception.time)}</span>
          </div>
          <div class="event-detail">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
              <circle cx="12" cy="10" r="3"></circle>
            </svg>
            <span>{reception.address}</span>
          </div>
        </div>
      </article>
    </div>
  </div>
</section>

<style>
  .event-details {
    /* Background now handled by global styles */
  }

  .details-intro {
    text-align: center;
    margin: 3rem 0;
    font-size: 1.125rem;
    color: var(--color-gray);
  }

  .details-intro p {
    font-family: "Dancing Script", cursive;
    font-size: 2.5rem;
  }

  .mt-2 {
    margin-top: 1rem;
  }

  .events-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 3rem;
    margin-top: 4rem;
  }

  .event-card {
    background: rgba(255, 255, 255, 0.92);
    border-radius: var(--radius);
    overflow: hidden;
    box-shadow: var(--shadow-lg);
    transition: transform 0.3s ease;
    backdrop-filter: blur(5px);
    -webkit-backdrop-filter: blur(5px);
  }

  .event-card:hover {
    transform: translateY(-5px);
  }

  .event-image {
    height: 250px;
    overflow: hidden;
    position: relative;
  }

  .event-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
  }

  .event-card:hover .event-image img {
    transform: scale(1.05);
  }

  .event-info {
    padding: 2rem;
  }

  .event-title {
    color: var(--color-primary);
    margin-bottom: 1.5rem;
    font-size: 1.75rem;
  }

  .event-detail {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    margin-bottom: 1rem;
    color: var(--color-gray);
  }

  .event-detail svg {
    flex-shrink: 0;
    color: var(--color-secondary);
    margin-top: 2px;
  }

  @media (max-width: 768px) {
    .events-grid {
      grid-template-columns: 1fr;
      gap: 2rem;
    }

    .event-image {
      height: 200px;
    }

    .details-intro p {
      font-size: 2rem;
    }
  }
</style>